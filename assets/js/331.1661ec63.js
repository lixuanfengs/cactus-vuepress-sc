(window.webpackJsonp=window.webpackJsonp||[]).push([[331],{682:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1、profile功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、profile功能"}},[s._v("#")]),s._v(" 1、Profile功能")]),s._v(" "),t("p",[s._v("为了方便多环境适配，springboot简化了profile功能。")]),s._v(" "),t("h3",{attrs:{id:"_1、application-profile功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、application-profile功能"}},[s._v("#")]),s._v(" 1、application-profile功能")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("默认配置文件  application.yaml；任何时候都会加载")])]),s._v(" "),t("li",[t("p",[s._v("指定环境配置文件  application-{env}.yaml")])]),s._v(" "),t("li",[t("p",[s._v("激活指定环境")])]),s._v(" "),t("li",[t("ul",[t("li",[s._v("配置文件激活")]),s._v(" "),t("li",[s._v("命令行激活：java -jar xxx.jar --"),t("strong",[s._v("spring.profiles.active=prod  --person.name=haha")])])])]),s._v(" "),t("li",[t("ul",[t("li",[t("ul",[t("li",[t("strong",[s._v("修改配置文件的任意值，命令行优先")])])])])])]),s._v(" "),t("li",[t("p",[s._v("默认配置与环境配置同时生效")])]),s._v(" "),t("li",[t("p",[s._v("同名配置项，profile配置优先")])])]),s._v(" "),t("h3",{attrs:{id:"_2、-profile条件装配功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、-profile条件装配功能"}},[s._v("#")]),s._v(" 2、@Profile条件装配功能")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Configuration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("proxyBeanMethods "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Profile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"production"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProductionConfiguration")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"_3、profile分组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、profile分组"}},[s._v("#")]),s._v(" 3、profile分组")]),s._v(" "),t("div",{staticClass:"language-plain line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-plain"}},[t("code",[s._v("spring.profiles.group.production[0]=proddb\nspring.profiles.group.production[1]=prodmq\n\n使用：--spring.profiles.active=production  激活\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"_2、外部化配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、外部化配"}},[s._v("#")]),s._v(" 2、外部化配")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v("https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\n\n1. Default properties (specified by setting `SpringApplication.setDefaultProperties`).\n2. `@PropertySource` annotations on your `@Configuration` classes. Please note that such property sources are not added to the `Environment` until the application context is being refreshed. This is too late to configure certain properties such as `logging.*` and `spring.main.*` which are read before refresh begins.\n3. **Config data (such as** `**application.properties**` **files)**\n4. A `RandomValuePropertySource` that has properties only in `random.*`.\n5. OS environment variables.\n6. Java System properties (`System.getProperties()`).\n7. JNDI attributes from `java:comp/env`.\n8. `ServletContext` init parameters.\n9. `ServletConfig` init parameters.\n10. Properties from `SPRING_APPLICATION_JSON` (inline JSON embedded in an environment variable or system property).\n11. Command line arguments.\n12. `properties` attribute on your tests. Available on `@SpringBootTest` and the [test annotations for testing a particular slice of your application](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests).\n13. `@TestPropertySource` annotations on your tests.\n14. [Devtools global settings properties](https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-devtools-globalsettings) in the `$HOME/.config/spring-boot` directory when devtools is active.\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h3",{attrs:{id:"_1、外部配置源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、外部配置源"}},[s._v("#")]),s._v(" 1、外部配置源")]),s._v(" "),t("p",[s._v("常用："),t("strong",[s._v("Java属性文件")]),s._v("、"),t("strong",[s._v("YAML文件")]),s._v("、"),t("strong",[s._v("环境变量")]),s._v("、"),t("strong",[s._v("命令行参数")]),s._v("；")]),s._v(" "),t("h3",{attrs:{id:"_2、配置文件查找位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、配置文件查找位置"}},[s._v("#")]),s._v(" 2、配置文件查找位置")]),s._v(" "),t("p",[s._v("(1) classpath 根路径")]),s._v(" "),t("p",[s._v("(2) classpath 根路径下config目录")]),s._v(" "),t("p",[s._v("(3) jar包当前目录")]),s._v(" "),t("p",[s._v("(4) jar包当前目录的config目录")]),s._v(" "),t("p",[s._v("(5) /config子目录的直接子目录")]),s._v(" "),t("h3",{attrs:{id:"_3、配置文件加载顺序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置文件加载顺序"}},[s._v("#")]),s._v(" 3、配置文件加载顺序：")]),s._v(" "),t("ol",[t("li",[s._v("当前jar包内部的application.properties和application.yml")]),s._v(" "),t("li",[s._v("当前jar包内部的application-{profile}.properties 和 application-{profile}.yml")]),s._v(" "),t("li",[s._v("引用的外部jar包的application.properties和application.yml")]),s._v(" "),t("li",[s._v("引用的外部jar包的application-{profile}.properties 和 application-{profile}.yml")])]),s._v(" "),t("h3",{attrs:{id:"_4、指定环境优先-外部优先-后面的可以覆盖前面的同名配置项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、指定环境优先-外部优先-后面的可以覆盖前面的同名配置项"}},[s._v("#")]),s._v(" 4、指定环境优先，外部优先，后面的可以覆盖前面的同名配置项")]),s._v(" "),t("h2",{attrs:{id:"_3、自定义starter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、自定义starter"}},[s._v("#")]),s._v(" 3、自定义starter")]),s._v(" "),t("h3",{attrs:{id:"_1、starter启动原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、starter启动原理"}},[s._v("#")]),s._v(" 1、starter启动原理")]),s._v(" "),t("ul",[t("li",[s._v("starter-pom引入 autoconfigurer 包")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/07/05/jt4uPe.png",alt:"img"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("autoconfigure包中配置使用 "),t("strong",[s._v("META-INF/spring.factories")]),s._v(" 中 "),t("strong",[s._v("EnableAutoConfiguration 的值，使得项目启动加载指定的自动配置类")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("编写自动配置类 xxxAutoConfiguration -> xxxxProperties")])])]),s._v(" "),t("li",[t("ul",[t("li",[t("strong",[s._v("@Configuration")])]),s._v(" "),t("li",[t("strong",[s._v("@Conditional")])]),s._v(" "),t("li",[t("strong",[s._v("@EnableConfigurationProperties")])]),s._v(" "),t("li",[t("strong",[s._v("@Bean")])]),s._v(" "),t("li",[s._v("......")])])])]),s._v(" "),t("p",[t("strong",[s._v("引入starter")]),s._v(" "),t("strong",[s._v("--- xxxAutoConfiguration --- 容器中放入组件 ---- 绑定xxxProperties ----")]),s._v(" "),t("strong",[s._v("配置项")])]),s._v(" "),t("h3",{attrs:{id:"_2、自定义starter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、自定义starter"}},[s._v("#")]),s._v(" 2、自定义starter")]),s._v(" "),t("p",[t("strong",[s._v("cactusli-hello-spring-boot-starter（启动器）")])]),s._v(" "),t("p",[t("strong",[s._v("cactusli-hello-spring-boot-starter-autoconfigure（自动配置包）")])]),s._v(" "),t("h2",{attrs:{id:"_4、springboot原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、springboot原理"}},[s._v("#")]),s._v(" 4、SpringBoot原理")]),s._v(" "),t("p",[s._v("Spring原理【"),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1gW411W7wy?p=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Spring注解"),t("OutboundLink")],1),s._v("】、"),t("strong",[s._v("SpringMVC")]),s._v("原理、"),t("strong",[s._v("自动配置原理")]),s._v("、SpringBoot原理")]),s._v(" "),t("h3",{attrs:{id:"_1、springboot启动过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、springboot启动过程"}},[s._v("#")]),s._v(" 1、SpringBoot启动过程")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("● 创建 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),s._v("\n  ○ 保存一些信息。\n  ○ 判定当前应用的类型。"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassUtils")]),s._v("。"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Servlet")]),s._v("\n  ○ bootstrappers：初始启动引导器（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bootstrapper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("）：去spring"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factories文件中找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("springframework"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("boot"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Bootstrapper")]),s._v("\n  ○ 找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContextInitializer")]),s._v("；去spring"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factories找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContextInitializer")]),s._v("\n    ■ "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContextInitializer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" initializers\n  ○ 找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationListener")]),s._v("  ；应用监听器。去spring"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factories找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationListener")]),s._v("\n    ■ "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" listeners\n● 运行 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplication")]),s._v("\n  ○ "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StopWatch")]),s._v("\n  ○ 记录应用的启动时间\n  ○ 创建引导上下文（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Context")]),s._v("环境）"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createBootstrapContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n    ■ 获取到所有之前的 bootstrappers 挨个执行 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("intitialize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 来完成对引导启动器上下文环境设置\n  ○ 让当前应用进入headless模式。java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("awt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headless\n  ○ 获取所有 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RunListener")]),s._v("（运行监听器）【为了方便所有"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Listener")]),s._v("进行事件感知】\n    ■ getSpringFactoriesInstances 去spring"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("factories找 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplicationRunListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n  ○ 遍历 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringApplicationRunListener")]),s._v(" 调用 starting 方法；\n    ■ 相当于通知所有感兴趣系统正在启动过程的人，项目正在 starting。\n  ○ 保存命令行参数；"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationArguments")]),s._v("\n  ○ 准备环境 prepareEnvironment（）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    ■ 返回或者创建基础环境信息对象。"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StandardServletEnvironment")]),s._v("\n    ■ 配置环境信息对象。\n      ● 读取所有的配置源的配置属性值。\n    ■ 绑定环境信息\n    ■ 监听器调用 listener"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("environmentPrepared")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("；通知所有的监听器当前环境准备完成\n  ○ 创建"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IOC")]),s._v("容器（createApplicationContext（））\n    ■ 根据项目类型（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Servlet")]),s._v("）创建容器，\n    ■ 当前会创建 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AnnotationConfigServletWebServerApplicationContext")]),s._v("\n  ○ 准备"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContext")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IOC")]),s._v("容器的基本信息   "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("prepareContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    ■ 保存环境信息\n    ■ "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IOC")]),s._v("容器的后置处理流程。\n    ■ 应用初始化器；applyInitializers；\n        ● 遍历所有的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContextInitializer")]),s._v(" 。调用 initialize"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("。来对ioc容器进行初始化扩展功能\n        ● 遍历所有的 listener 调用 contextPrepared。"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("EventPublishRunListenr")]),s._v("；通知所有的监听器contextPrepared\n    ■ 所有的监听器 调用 contextLoaded。通知所有的监听器 contextLoaded；\n  ○ 刷新"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("IOC")]),s._v("容器。refreshContext\n    ■ 创建容器中的所有组件（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Spring")]),s._v("注解）\n  ○ 容器刷新完成后工作？afterRefresh\n  ○ 所有监听 器 调用 listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("started")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 通知所有的监听器 started\n  ○ 调用所有runners；"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("callRunners")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    ■ 获取容器中的 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationRunner")]),s._v("\n    ■ 获取容器中的  "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CommandLineRunner")]),s._v("\n    ■ 合并所有runner并且按照"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Order")]),s._v("进行排序\n    ■ 遍历所有的runner。调用 run 方法\n  ○ 如果以上有异常，\n    ■ 调用"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Listener")]),s._v(" 的 failed\n  ○ 调用所有监听器的 running 方法  listeners"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("running")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" 通知所有的监听器 running\n  ○ running如果有问题。继续通知 failed 。调用所有 "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Listener")]),s._v(" 的 failed；通知所有的监听器 failed\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bootstrapper")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t * Initialize the given {@link BootstrapRegistry} with any required registrations.\n\t * @param registry the registry to initialize\n\t */")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("intitialize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BootstrapRegistry")]),s._v(" registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/07/05/jt4M2d.png",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/07/05/jt4cIU.png",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/07/05/jt47dK.png",alt:"img"}})]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@FunctionalInterface")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationRunner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t * Callback used to run the bean.\n\t * @param args incoming application arguments\n\t * @throws Exception on error\n\t */")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationArguments")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@FunctionalInterface")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CommandLineRunner")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n\t * Callback used to run the bean.\n\t * @param args incoming main method arguments\n\t * @throws Exception on error\n\t */")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h3",{attrs:{id:"_2、application-events-and-listeners"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、application-events-and-listeners"}},[s._v("#")]),s._v(" 2、Application Events and Listeners")]),s._v(" "),t("p",[s._v("https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-application-events-and-listeners")]),s._v(" "),t("p",[t("strong",[s._v("ApplicationContextInitializer")])]),s._v(" "),t("p",[t("strong",[s._v("ApplicationListener")])]),s._v(" "),t("p",[t("strong",[s._v("SpringApplicationRunListener")])]),s._v(" "),t("h3",{attrs:{id:"_3、applicationrunner-与-comman"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、applicationrunner-与-comman"}},[s._v("#")]),s._v(" 3、ApplicationRunner 与 Comman")])])}),[],!1,null,null,null);t.default=e.exports}}]);