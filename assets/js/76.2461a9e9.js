(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{424:function(s,a,t){"use strict";t.r(a);var e=t(0),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"vm虚拟机-ubuntu-22-04-lvm磁盘扩容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vm虚拟机-ubuntu-22-04-lvm磁盘扩容"}},[s._v("#")]),s._v(" VM虚拟机 Ubuntu 22.04 LVM磁盘扩容")]),s._v(" "),a("h3",{attrs:{id:"_1-虚拟机增加硬盘容量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-虚拟机增加硬盘容量"}},[s._v("#")]),s._v(" 1.虚拟机增加硬盘容量")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20230915093704466.png",alt:"image-20230915093704466"}})]),s._v(" "),a("h3",{attrs:{id:"_2-查看-ubuntu-中当前硬盘信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-查看-ubuntu-中当前硬盘信息"}},[s._v("#")]),s._v(" 2.查看 ubuntu 中当前硬盘信息")]),s._v(" "),a("p",[s._v("在终端输入")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("root@kexietest-virtual-machine:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# df -h")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/image-20230915094023659.png",alt:"image-20230915094023659"}})]),s._v(" "),a("p",[s._v("输入命令")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("root@kexietest-virtual-machine:/"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fdisk -l")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-b54e169a7a513687.png",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("解决：GPT PMBR size mismatch (62914559 != 83886079) will be corrected by write.")])]),s._v(" "),a("p",[s._v("输入命令 "),a("code",[s._v("parted -l")]),s._v(" 修复分区表")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-ae264109c69ed782.png",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_3-使用-parted-追加容量到-dev-sda3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用-parted-追加容量到-dev-sda3"}},[s._v("#")]),s._v(" 3.使用 parted 追加容量到/dev/sda3")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("输入命令 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parted")]),s._v(" /dev/sda \n\n输入命令 unit s 设置Size单位，方便追加输入\n\n输入命令 p "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" 查看详情\n\n输入命令 resizepart "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" 追加容量到sda3\n\n输入命令 83886046s 空闲容量区间Free Space结束位置\n\n输入命令 q 退出\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-c7e8661f0a97b59c.png",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_4-更新lvm中pv物理卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-更新lvm中pv物理卷"}},[s._v("#")]),s._v(" 4.更新LVM中pv物理卷")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("输入命令 pvresize /dev/sda3 更新pv物理卷\n\n输入命令 pvdisplay 查看状态\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-228bf4cd2447f1dd.png",alt:"img"}})]),s._v(" "),a("h3",{attrs:{id:"_5-lvm逻辑卷扩容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-lvm逻辑卷扩容"}},[s._v("#")]),s._v(" 5.LVM逻辑卷扩容")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("输入命令 lvdisplay\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-3bd4cc204ae4add8.png",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("输入命令 lvextend "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" +100%FREE /dev/ubuntu-vg/ubuntu-lv 逻辑卷扩容\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-a700709a24ce905d.png",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("输入命令 resize2fs /dev/ubuntu-vg/ubuntu-lv 刷新逻辑卷\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("如果系统不支持 LVM逻辑卷扩容，在第3步 "),a("code",[s._v("使用 parted 追加容量到/dev/sda3")]),s._v(" 操作完成后直接运行  resize2fs /dev/sda3 或 resize2fs /dev/ubuntu-vg/ubuntu-lv")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://lixuanfengs.github.io/blog-images/cactus-blogs/12766175-4a8e9a6d2207ac2a.png",alt:"img"}})])])}),[],!1,null,null,null);a.default=n.exports}}]);